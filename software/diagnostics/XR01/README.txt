Index of retro-1620/software/diagnostics/XR01:
Files for the 1620 index register instructions diagnostic.

Diagnostic program for index register instructions and address
modification written by Paul Kimpel in August 2023.

There are four ways to run this program:

    1. Load the XR01-Index-Registers-Test-Object.card deck into the card
    reader, DO NOT press START on the reader, press RESET on the Control
    Panel, then LOAD on the card reader. After the program loads, press
    START on the Control Panel.

    2. Load the XR01-Index-Registers-Test.cmem core memory image file by
    double-clicking gray "DATA PROCESSING SYSTEM" bar at the top of the
    Control Panel and selecting the CMEM file. Press START on the
    Control Panel and then START again.

    3. Load and run the XR01-Relocatable-Object.card job deck under
    Monitor I. There is a Monitor I boot card at the front of the deck,
    which will be ignored if Monitor is already running. After the
    program loads, press START on the Control Panel.

    4. Load and run the XR01-Index-Registers-Test.sps job deck under
    Monitor I. There is a Monitor I boot card at the front of the deck,
    which will be ignored if Monitor is already running. This will
    assemble the program, generate a line printer listing, and punch a
    relocatable object deck, all of which takes several minutes. The
    program will then run automatically.

The program is structured similarly to other IBM diagnostics. It is
divided into routines that each test a specific feature or behavior.
Each routine is independent and does not rely on prior routines, except
that some routines use features that must have tested successfully in
prior routines. The program uses the same convention for program switch
settings as other IBM diagnostics:

    Switch 1: if on, bypasses typing error messages when they occur.
    Switch 2: if on, repeats the current test routine until turned off.
    Switch 3: if on, halts at the end of a routine when the routine
              detects an error.
    Switch 4: if on, repeats the entire test until turned off.

When loaded using methods 1 and 2 above, the entry point address is
00828. When loaded using methods 3 and 4 above under Monitor I, the
entry point address defaults to 02402.

One cycle of the program runs very quickly. Near the end, routine R76
intentionally causes a check stop to test whether indexing of operand
addresses can generate an invalid address. If the check stop does not
occur, that is an error. See the sample output below for instructions on
how to continue after the check stop occurs.

    XR01 - INDEX REGISTERS TEST
    SW 1 OFF SW 2 OFF SW 3 ON SW 4 OFF - SET SWS FOR XR01 THEN START.
    START ROUTINES. ETOS FOLLOW.
    TEST R76 SHOULD HALT ON A CHECK STOP WITH MAR=99990
    TO CONTINUE, PRESS RESET, THEN START...

    TEST ROUTINES COMPLETED.
    IF SW 1 OFF AND NO ROUTINE NOS TYPED OUT, MACHINE PERFORMED TESTS
    PROPERLY.


XR01-Index-Registers-Test.sps
    SPS source deck for the diagnostic with control cards to assemble
    and run under Monitor I.

XR01-Index-Registers-Test.lst
    Assembly listing for XR01-Index-Registers-Test.sps generated when
    assembled by SPS-IID under Monitor I.

XR01-Index-Registers-Test-Object.card
    Bootable object card deck generated by the card-based SPS assembler.

XR01-Index-Registers-Test.cmem
    Core memory image file generated by the SPS1620 assembler from the
    Computer History Museum's IBM 1620 Jr. project.

XR01-Relocatable-Object.card
    Execution job for the relocatable object deck produced when XR01-
    Index-Registers-Test.sps is assembled by SPS-IID under Monitor I.

